
@section Content {
	<h1>
		Доступные сорта:
	</h1>
	<table class="table">
		<thead>
			<tr>
				<th>Вид кофе</th>
				<!-- ko foreach: availablePacks -->
				<th>Упаковка <span data-bind="text: weight"></span> грамм</th>
				<!-- /ko -->
			</tr>
		</thead>
		<tbody data-bind="foreach: availableCoffeeKinds">
			<tr data-bind="css: { success: isOrdered }">
				<td data-bind="text: name"></td>
				<!-- ko foreach: packs -->
				<td>
					<span data-bind="text: count"></span>
					<button class="btn btn-primary btn-xs" data-bind="click: $parent.add">+</button>
					<button class="btn btn-primary btn-xs" data-bind="click: $parent.remove, css: { disabled : count() <= 0 }">-</button>
					&nbsp;&times;&nbsp;<span data-bind="text: price"></span>₽
				</td>
				<!-- /ko -->
			</tr>
		</tbody>
	</table>

	<h1>Нет в наличии:</h1>
	<ol data-bind="foreach: nonAvailableCoffeeKinds">
		<li data-bind="text: name"></li>
	</ol>
}

@section Scripts {
	<script src="~/Content/js/coffeeOrder.js"></script>
	<script>
		$(function () {
			var user = new UserViewModel();
			var coffeeOrder = new CoffeeOrderViewModel(user);
			ko.applyBindings(coffeeOrder);
		});
	</script>
}